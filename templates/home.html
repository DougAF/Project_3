<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <!-- custom js -->
    <script src="../static/js/app.js"></script>

    <title>Biz City</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>
<div class="jumbotron" style="margin-bottom: 0px;">
    <br>
    <h1>CITY ANALYTICS</h1>
    <p> By Team Yellow 3.0</p>
</div>
<body>
    <!-- nav bar code start  -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark sticky-top mr-auto">

        <button class="navbar-toggler" data-toggle="collapse" data-target="#collapse_target">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="collapse_target">

        <!-- <a class="navbar-brand"><img src="#"></a>
        <span class="navbar-text">Yellow-Team 3.0</span> -->
        
        <ul class="navbar-nav ml-auto">
            <!-- <li class="nav-item">
                <img class="logo" src="../static/img/logo2.png" id = "logo" alt="logo"> -->
            <li class="nav-item">
                <a class= "nav-link" href="#section1">About</a>
            </li>
            <li class="nav-item">
                <a class= "nav-link" href="#section2">Project Info</a>
            </li>
            <li class="nav-item">
                <a class= "nav-link" href="#section3">The Team</a>
            </li>
            <li class="nav-item dropdown">
                <a class= "nav-link dropdown-toggle" data-toggle="dropdown" data-target= "dropdown_target" href="#">
                    Visuals
                    <span class="caret"></span>    
                </a>
            <div class="dropdown-menu" aria-labelledby="dropdown_target">
                <ul class="navbar-nav">
                <a class= "dropdown-item" href = "/scatter">Scatter</a>
                </ul>
                <ul class="navbar-nav">
                <a class= "dropdown-item" href = "/map">Map</a>
                </ul>
                <ul class="navbar-nav">
                <a class= "dropdown-item" href = "/metadata">Data</a>
                </ul>
                <ul class="navbar-nav">
                <a class= "dropdown-item" href = "/mldata">ML Data</a>
                </ul>
    
            </div>
            </li>
        </ul>
        </div>
    </nav>

    <!-- Parallax code  start -->

    <div class="pimg1">
        <div class="ptext">
            <span class="border">
                The What
            </span>
        </div>
    </div>

    <section class="section section-light">
        <h2 id="section1">Build Your City for Business</h2>
<p> What is a city? This question when analyzed closely proved difficult to answer. A city is composed of a government, people, and the structures they inhabit and use in their daily life. We believe that these three broad categories can be quantified and analyzed. To do this we measure a city’s tax structure, demographic qualities, and growth of establishments then attempt to see how these qualities influence each other. This will help city officials, businesses, and voters plan policies for a better future. </p>
<h2>Plan Ahead</h2>
<p>It’s time to start thinking smart for smarter growth. Many cities that are seeing businesses grow have made it a point to plan for change, adopt a strategic approach and make decisions guided by data. When it comes to the future, one thing is for certain, change is inevitable. As a city, being prepared for change with data models ready and understanding the geopolitical trends today can better prepare you for healthy growth tomorrow.</p>
    </section>

    <div class="pimg2">
        <div class="ptext">
            <span class="border trans">
                The How
            </span>
        </div>
    </div>
    <section class="section section-dark">
            <h2 id="section2">Methodology</h2>
                <div class="row">
                  <div class="col-md-12">
                    <br>
                      <p class="text-left">After consulting some economic and business experts (via interwebs) we decided to break city data collection into 3 categories.</p>
                        <ul class="text-left">1) City Infrastructure</ul>
                        <ul class="text-left">2) City Demographics</ul>
                        <ul class="text-left">3) City Tax Structure</ul>
                      <p class="text-left">Then we collected data for each category ie. commute time, education level of population, and rigor of businesses tax law. We accomplished this using a combination of web scraping and downloading publicly available CSVs. After looking through our data we decided to focus on 'Establishments' as our key indicator of city business development.</p>
                      <p class="text-left">The writers at census.gov define an <b>establishment</b> as: <br><br>"A single physical location where business is conducted or where services or industrial operations are performed. Data in this sector includes those establishments where manufacturing is performed."</p>
                      <hr>
                      <p class="text-left">Next we calculated a 'Business growth' index by measuring the change in a city's establishments from 2011 to 2016 and normalizing this measure over population as shown below.</p>
                      <p class="text-left"><b>Business growth</b> = </p>
                      <!-- <HISHAM> for making pretty -->    
                        <img class="image" src = "../static/img/y_var_equ.png" alt = "equation">   
                        <br><br> 
                        <p class="text-left"> Where Et is Establishments in 2016 and Po is Population in 2011. Thus we get a change in establishments over 5 years. </p>            
                        <ul> This can be read as 'establishments over population at time t minus establishments over population initial all divided by establishments over population initial.' This calculation returns a ratio that we multiplied by 100 to return a percent change in establishments which can be seen by clicking a city on the Map page. </ul>
                        <hr>
                        <p class="text-left"><b>RESTful API and GeoJSONifying</b></p>
                        <p class="text-left">Our data routes are populated via querying an SQLite database and formatting the data into a GeoJSON format. This nested dictionary format makes for easier accessing of data for visualization purposes.Check it out in the data route under the visualization tab above!</p>
                        <hr>
                        <p class="text-left"><b>Visualizations</b></p>
                        <p class="text-left">To display our data in an interactive way we decided to create a Leaflet interactive map and a scatter plot with toggleable X variables. The Leaflet map consists of a circle for each city that is colored to indicate business growth or shrinkage and whos radius is scaled by the magnitude of this change. Our scatter plot allows the user to search for correlation between a chosen X varable and business growth percentage. The scatter plot also provides information via hovertext so that one may transition between the Scatter and Map with a city or metric in mind.</p>
                        <hr>
                        <h3 class="text-left"><b>Machine Learning</b></h3>

 

                        <p class="text-left">Clustering: We built models using PCA and K means clustering. </p>
                        <p class="text-left"><b>Why did we cluster?</b></p>
                        <p class="text-left">To see if cities grouped together in a meaningful way. Our results were less than ideal.</p>
                        <p class="text-left"><b>See our PCA code below</b></p>
                        <img src="../static/img/pca_ml_code.png" alt="PCA CODE" style="width:700px;height:300px;">
                        <br><br>
                        <p class="text-left">This is the resulting plot where clusters are represented with discrete colors.</p>
                        <img src="../static/img/cluster_plot.png" alt="Cluster plot" style="width:540px;height:380px;">
                        <p class="text-left">As you can see above, the clusters are not great.There is very little separation between the green and purple clusers. Additionally the lime green, dark blue, yellow, and seafoam green cluseters contain very little data; almost as if they are capturing outliers. The vast majority of cities are grouped into the green cluster. </p>
                        <p class="text-left"> We suspect that cites could be broken into categories based on population; small, medium, large, and XL. Where larger cities would display more stability and constant growth and small and medium cities would have more variance.</p>

                        <p class="text-left">Regression: We built linear, lasso, and Support vector regression models</p>
                        <p class="text-left">Why did we use regression?</p>
                        <p class="text-left">To give us a model to predict the behavior of cites in the future. Unfortunately our model was not robust enough to do this.</p> 
                        <p class="text-left">Note below the column to the far right. This shows the strenght of correlation to our Y variable, Establishment % Change. Most of our year to year intervals look like the data shown below.</p> 
                        <img src="../static/img/correlations_2016.png" alt="corr_2016" style="width:800px;height:150px;">
                        <p class="text-left">Interestingly, our data showed much higher correlation for the year interval 2012-2013. Note the values in the far right column are much higher than the previous data.</p> 

                        <img src="../static/img/correlations_2013.png" alt="corr_2013" style="width:800px;height:150px;">
                        <br><br>
                        <!-- <img src="../static/img/lr_code.png" alt="lr code" style="width:650px;height:250px;"> -->
                        <!-- <img src="../static/img/lasso_model.png" alt="lasso_code" style="width:700px;height:300px;"> -->
                        <!-- <img src="../static/img/bar_chart.png" alt="barchart" style="width:900px;height:420px;"> -->
                        <h3 class="text-left"><b>Project Limitations</b></h3>
                        <p class="text-left"><b>Data</b></p>
                        <li class="text-left">Only contians 383 Metro areas</li>
                        <li class="text-left">No startup survival rate data</li>
                        <li class="text-left">Tax data had to be taken in a score format and trusted to outside source (shown below)</li>
                        <li class="text-left">Population and establishment data taken from a small window (5 years)</li>
                        <hr>
                        <p class="text-left"><b>Methods</b></p>
                        <li class="text-left">Perhaps grouping cities by population and developing a model for each population category would yeild better machine learning results.</li>
                        <li class="text-left">Scope creep definitely got the best of us on a few occasions. </li>
                        <li class="text-left">Tax data had to be taken in a score format and trusted to outside source (shown below)</li>
                        <li class="text-left">Population and establishment data taken from a small window (5 years)</li>
                        <hr>
                        <p class="text-left"><b>Next Steps</b></p>
                        <li class="text-left">Collect more X variables the tax and infrastructure categories</li>
                        <li class="text-left">Extend the model to European cities</li>
                        <li class="text-left">Strengthen our model with more data from more cities</li>
                    </div>
                </div>
            
    </section>
    <div class="pimg3">
        <div class="ptext">
            <span class="border trans">
            The Who
            </span>
        </div>
    </div>
    <section class="section section-dark">
        <h2 id="section3">Our Team</h2><p>aka the good guys</p>
        <div class="row">
            <!-- Team -->
            <div class="col-sm-4 sm-margin-b-50">
                <div class="bg-color-white margin-b-20">
                    <div class="wow zoomIn" data-wow-duration=".3" data-wow-delay=".1s">
                        <img class="img-responsive" height = "268" width = "180 "src="../static/img/Douglas_Franklin.jpg" alt="Doug AF" width="200">
                    </div>
                </div>
                <h4><a href="https://dougaf.github.io/portfolio_DougAF/">Doug AF </a> <span class="text margin-l-20">Project Manager</span></h4>
            </div>
            <!-- End Team -->

            <!-- Team -->
            <div class="col-sm-4 sm-margin-b-50">
                    <div class="bg-color-white margin-b-20">
                        <div class="wow zoomIn" data-wow-duration=".3" data-wow-delay=".1s">
                        <img class="img-responsive" src="../static/img/DAF.jpg" alt="Doug AF" width="200">
                        </div>
                    </div>
                    <h4><a href="#">M. Ahsan</a> <span class="text margin-l-20">Lead Engineer</span></h4>
                </div>
            <!-- End Team -->
            <!-- Team -->
            <div class="col-sm-4 sm-margin-b-50">
                    <div class="bg-color-white margin-b-20">
                        <div class="wow zoomIn" data-wow-duration=".3" data-wow-delay=".1s">
                            <img class="img-responsive" height = "268" width = "268 " src="../static/img/IMG_0687.jpg" alt="Doug AF" width="200">
                        </div>
                    </div>
                    <h4><a href="#">Mason Carnahan</a> <span class="text margin-l-20">Data Manager</span></h4>
                </div>
            <!-- End Team -->

            <!-- Team -->
            <div class="col-sm-4 sm-margin-b-50">
                <div class="bg-color-white margin-b-20">
                    <div class="wow zoomIn" data-wow-duration=".3" data-wow-delay=".1s">
                        <img class="img-responsive" src="../static/img/IMG_3509.jpg" alt="Doug AF" width="200">
                    </div>
                </div>
                <h4><a href="#">Christopher Fraizer</a> <span class="text margin-l-20">D3 Developer</span></h4>
            </div>
            <!-- End Team -->

            <!-- Team -->
            <div class="col-sm-4 sm-margin-b-50">
                <div class="bg-color-white margin-b-20">
                    <div class="wow zoomIn" data-wow-duration=".3" data-wow-delay=".1s">
                        <img class="img-responsive" height = "300" width = "180 "src="../static/img/IMG_0873.png" alt="Doug AF" width="200">
                    </div>
                </div>
                <h4><a href="#">Hisham Hammour</a> <span class="text margin-l-20">Lead Designer</span></h4>
                <!-- <a class="link" href="#">Read More</a> -->
            </div>
            <!-- End Team -->
        </div>
    </section>

    <div class="pimg1">
        <div class="ptext">
            <span class="border">
                The End 
            </span>
        </div>
    </div>
     <!-- D3 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.2/d3.js"></script>

  <!-- Leaflet JavaScript -->
  <script src="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.js"></script>

  <!-- API Key -->
  <script type="text/javascript" src="../static/config.js"></script>
  <!-- Our JavaScript -->
  <script type="text/javascript" src="../static/js/app.js"></script>
</body>
</html>